<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EduSafeGuard ‚Äî Institution Registration</title>
<link rel="stylesheet" href="styles.css">
<style>
body {
  display: flex;
  min-height: 100vh;
  background: var(--navy);
}

.reg-bg {
  flex: 1;
  display: none;
  background:
    radial-gradient(ellipse at 20% 50%, rgba(56,189,248,0.08) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(129,140,248,0.07) 0%, transparent 50%),
    url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2338bdf8' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"),
    var(--navy);
  position: relative;
  overflow: hidden;
  padding: 60px;
  flex-direction: column;
  justify-content: center;
}
@media (min-width: 900px) { .reg-bg { display: flex; } }

.reg-bg-brand {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--cyan);
  letter-spacing: -0.02em;
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 60px;
}
.reg-bg-brand .shield-icon {
  width: 44px; height: 44px;
  background: linear-gradient(135deg, var(--cyan), var(--teal));
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 22px;
}

.reg-bg-headline {
  font-family: var(--font-display);
  font-size: 3rem;
  font-weight: 800;
  letter-spacing: -0.04em;
  line-height: 1.1;
  color: var(--text-primary);
  margin-bottom: 20px;
}
.reg-bg-headline span { color: var(--cyan); }

.reg-bg-desc {
  font-size: 1rem;
  color: var(--text-secondary);
  line-height: 1.7;
  max-width: 400px;
  margin-bottom: 50px;
}

.feature-list {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.feature-item {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 0.88rem;
  color: var(--text-secondary);
}
.feature-dot {
  width: 28px; height: 28px;
  border-radius: 8px;
  background: var(--cyan-dim);
  border: 1px solid rgba(56,189,248,0.25);
  display: flex; align-items: center; justify-content: center;
  font-size: 13px;
  flex-shrink: 0;
}

.glow-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  pointer-events: none;
}
.orb-1 { width: 400px; height: 400px; background: rgba(56,189,248,0.06); bottom: -100px; right: -100px; }
.orb-2 { width: 300px; height: 300px; background: rgba(129,140,248,0.05); top: -50px; right: 100px; }

/* FORM PANEL */
.reg-panel {
  width: 100%;
  max-width: 480px;
  background: rgba(10,14,26,0.95);
  min-height: 100vh;
  padding: 40px 36px;
  display: flex;
  flex-direction: column;
  border-left: 1px solid var(--border);
  overflow-y: auto;
}

/* STEP PROGRESS */
.step-progress {
  display: flex;
  align-items: center;
  gap: 0;
  margin-bottom: 40px;
}
.step-node {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  position: relative;
  flex: 1;
}
.step-circle {
  width: 32px; height: 32px;
  border-radius: 50%;
  border: 2px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  font-size: 0.78rem;
  font-weight: 700;
  color: var(--text-dim);
  background: var(--navy-mid);
  transition: var(--transition);
  position: relative;
  z-index: 1;
}
.step-node.active .step-circle {
  border-color: var(--cyan);
  color: var(--cyan);
  background: var(--cyan-dim);
  box-shadow: 0 0 14px var(--cyan-glow);
}
.step-node.done .step-circle {
  border-color: var(--emerald);
  background: var(--risk-low-bg);
  color: var(--emerald);
}
.step-label {
  font-size: 0.68rem;
  color: var(--text-dim);
  text-align: center;
  font-weight: 500;
  white-space: nowrap;
}
.step-node.active .step-label { color: var(--cyan); }
.step-node.done .step-label { color: var(--emerald); }

.step-line {
  flex: 1;
  height: 2px;
  background: var(--border);
  margin-top: -22px;
  position: relative;
  z-index: 0;
}
.step-line.done { background: linear-gradient(90deg, var(--emerald), var(--cyan)); }

/* FORM STEP CONTAINER */
.form-step {
  display: none;
  animation: stepIn 0.35s cubic-bezier(0.4,0,0.2,1);
}
.form-step.active { display: block; }
@keyframes stepIn {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

.step-heading {
  font-family: var(--font-display);
  font-size: 1.6rem;
  font-weight: 700;
  letter-spacing: -0.03em;
  margin-bottom: 6px;
  color: var(--text-primary);
}
.step-subheading {
  font-size: 0.85rem;
  color: var(--text-secondary);
  margin-bottom: 28px;
  line-height: 1.6;
}

/* OTP INPUT */
.otp-group {
  display: flex;
  gap: 10px;
  margin: 16px 0;
}
.otp-input {
  width: 48px; height: 54px;
  text-align: center;
  font-size: 1.3rem;
  font-weight: 700;
  font-family: var(--font-display);
  background: var(--surface);
  border: 2px solid var(--border);
  border-radius: var(--radius);
  color: var(--text-primary);
  outline: none;
  transition: var(--transition);
}
.otp-input:focus {
  border-color: var(--cyan);
  box-shadow: 0 0 0 3px var(--cyan-dim);
}
.otp-input.filled {
  border-color: var(--cyan);
  color: var(--cyan);
}

/* BRANCHES EDITOR */
.tags-editor {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 10px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  min-height: 52px;
  cursor: text;
  transition: var(--transition);
}
.tags-editor:focus-within { border-color: var(--cyan); box-shadow: 0 0 0 3px var(--cyan-dim); }
.tag-chip {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 4px 10px;
  background: var(--cyan-dim);
  border: 1px solid rgba(56,189,248,0.25);
  border-radius: 999px;
  font-size: 0.8rem;
  color: var(--cyan);
  font-weight: 500;
}
.tag-chip button {
  background: none; border: none; color: inherit; cursor: pointer;
  opacity: 0.7; font-size: 14px; line-height: 1;
  padding: 0; display: flex;
}
.tag-chip button:hover { opacity: 1; }
.tag-input-hidden {
  border: none;
  background: none;
  outline: none;
  color: var(--text-primary);
  font-family: var(--font-body);
  font-size: 0.88rem;
  min-width: 80px;
  flex: 1;
}

/* SECTIONS GRID */
.section-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 8px;
}
.section-toggle {
  width: 42px; height: 42px;
  border-radius: 9px;
  border: 2px solid var(--border);
  background: var(--surface);
  color: var(--text-secondary);
  font-weight: 700;
  font-size: 0.9rem;
  cursor: pointer;
  transition: var(--transition);
  display: flex; align-items: center; justify-content: center;
  font-family: var(--font-display);
}
.section-toggle.selected {
  border-color: var(--cyan);
  background: var(--cyan-dim);
  color: var(--cyan);
}
.section-toggle:hover:not(.selected) { border-color: var(--border-strong); }

/* CREDENTIAL CARD */
.cred-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px 16px;
  margin-bottom: 12px;
  position: relative;
  transition: var(--transition);
}
.cred-card:hover { border-color: var(--border-strong); }
.cred-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}
.cred-role {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.82rem;
  font-weight: 600;
  color: var(--text-primary);
}
.cred-role-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
}
.cred-row {
  display: flex;
  gap: 8px;
  align-items: center;
  font-size: 0.8rem;
  color: var(--text-dim);
  margin-bottom: 4px;
}
.cred-row span {
  background: var(--navy-mid);
  padding: 3px 8px;
  border-radius: 5px;
  font-family: monospace;
  color: var(--text-secondary);
  border: 1px solid var(--border);
  letter-spacing: 0.05em;
}

/* COPY BTN */
.copy-btn {
  font-size: 12px;
  padding: 2px 7px;
  border-radius: 5px;
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text-dim);
  cursor: pointer;
  transition: var(--transition);
}
.copy-btn:hover { border-color: var(--cyan); color: var(--cyan); }

.form-divider {
  height: 1px;
  background: var(--border);
  margin: 20px 0;
}

.info-box {
  background: var(--cyan-dim);
  border: 1px solid rgba(56,189,248,0.2);
  border-radius: var(--radius);
  padding: 12px 14px;
  font-size: 0.82rem;
  color: var(--text-secondary);
  display: flex;
  gap: 10px;
  margin-bottom: 18px;
}
.info-box-icon { font-size: 16px; flex-shrink: 0; }

.step-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 32px;
  padding-top: 20px;
  border-top: 1px solid var(--border);
}

.already-have {
  text-align: center;
  margin-top: 24px;
  font-size: 0.82rem;
  color: var(--text-dim);
}
.already-have a {
  color: var(--cyan);
  text-decoration: none;
  font-weight: 500;
}
.already-have a:hover { text-decoration: underline; }

/* SUCCESS STATE */
.success-state {
  text-align: center;
  padding: 40px 20px;
}
.success-icon {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: var(--risk-low-bg);
  border: 2px solid rgba(16,185,129,0.3);
  display: flex; align-items: center; justify-content: center;
  font-size: 36px;
  margin: 0 auto 20px;
  animation: successPop 0.5s cubic-bezier(0.34,1.56,0.64,1);
}
@keyframes successPop {
  from { transform: scale(0); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
</style>
</head>
<body>

<!-- LEFT: Branding Panel -->
<div class="reg-bg">
  <div class="glow-orb orb-1"></div>
  <div class="glow-orb orb-2"></div>

  <div class="reg-bg-brand">
    <div class="shield-icon">üõ°Ô∏è</div>
    EduSafeGuard
  </div>

  <div class="reg-bg-headline">
    Early Warning.<br>
    <span>Smarter Education.</span>
  </div>
  <div class="reg-bg-desc">
    Register your institution to unlock AI-powered attendance tracking, performance monitoring, and real-time student risk alerts.
  </div>

  <div class="feature-list">
    <div class="feature-item">
      <div class="feature-dot">üìä</div>
      <span>ML-powered dropout risk prediction</span>
    </div>
    <div class="feature-item">
      <div class="feature-dot">üîî</div>
      <span>Instant alerts to students & counselors</span>
    </div>
    <div class="feature-item">
      <div class="feature-dot">üëÅÔ∏è</div>
      <span>Real-time dashboards per role</span>
    </div>
    <div class="feature-item">
      <div class="feature-dot">üîê</div>
      <span>Separate secure portals for every user type</span>
    </div>
    <div class="feature-item">
      <div class="feature-dot">üìÖ</div>
      <span>Visual attendance calendar & trend analytics</span>
    </div>
  </div>
</div>

<!-- RIGHT: Registration Panel -->
<div class="reg-panel">

  <!-- STEP PROGRESS -->
  <div class="step-progress">
    <div class="step-node active" id="sn1">
      <div class="step-circle" id="sc1">1</div>
      <div class="step-label">Institution</div>
    </div>
    <div class="step-line" id="sl1"></div>
    <div class="step-node" id="sn2">
      <div class="step-circle" id="sc2">2</div>
      <div class="step-label">Profile Setup</div>
    </div>
    <div class="step-line" id="sl2"></div>
    <div class="step-node" id="sn3">
      <div class="step-circle" id="sc3">3</div>
      <div class="step-label">Credentials</div>
    </div>
  </div>

  <!-- STEP 1: Institution Details + OTP -->
  <div class="form-step active" id="step1">
    <div class="step-heading">Register Institution</div>
    <div class="step-subheading">Enter your institution's details. We'll verify your email with a one-time code.</div>

    <div class="form-group">
      <label class="form-label">Institution Name *</label>
      <input class="form-input" type="text" placeholder="e.g. Greenfield Engineering College" id="inst-name">
    </div>
    <div class="form-group">
      <label class="form-label">Place / Location *</label>
      <input class="form-input" type="text" placeholder="e.g. Chennai, Tamil Nadu">
    </div>
    <div class="form-group">
      <label class="form-label">Official Email Address *</label>
      <div style="display:flex; gap:8px;">
        <input class="form-input" type="email" placeholder="admin@institution.edu" id="reg-email" style="flex:1">
        <button class="btn btn-secondary" onclick="sendOTP()" id="send-otp-btn" style="white-space:nowrap;flex-shrink:0;">Send OTP</button>
      </div>
    </div>

    <div id="otp-section" style="display:none;">
      <div class="info-box">
        <div class="info-box-icon">üì®</div>
        <div>An OTP has been sent to your email. Enter it below to verify your institution.</div>
      </div>
      <div class="form-group">
        <label class="form-label">Enter 6-Digit OTP</label>
        <div class="otp-group">
          <input class="otp-input" type="text" maxlength="1" id="o1">
          <input class="otp-input" type="text" maxlength="1" id="o2">
          <input class="otp-input" type="text" maxlength="1" id="o3">
          <input class="otp-input" type="text" maxlength="1" id="o4">
          <input class="otp-input" type="text" maxlength="1" id="o5">
          <input class="otp-input" type="text" maxlength="1" id="o6">
        </div>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:8px;">
          <span id="otp-timer" style="font-size:0.8rem; color:var(--text-dim);">Resend in 45s</span>
          <a href="#" style="font-size:0.8rem; color:var(--cyan); text-decoration:none;" id="resend-link" onclick="resendOTP(event)">Resend OTP</a>
        </div>
      </div>
    </div>

    <div class="step-footer">
      <div></div>
      <button class="btn btn-primary" onclick="goStep(2)" id="step1-next">
        Continue <span>‚Üí</span>
      </button>
    </div>
    <div class="already-have">
      Already registered? <a href="login.html">Sign In</a>
    </div>
  </div>

  <!-- STEP 2: Profile Setup -->
  <div class="form-step" id="step2">
    <div class="step-heading">Profile Setup</div>
    <div class="step-subheading">Define the academic structure ‚Äî departments and sections ‚Äî for your institution.</div>

    <div class="form-group">
      <label class="form-label">Departments / Branches</label>
      <div style="font-size:0.78rem; color:var(--text-dim); margin-bottom:8px;">Type a branch name and press Enter to add it.</div>
      <div class="tags-editor" onclick="document.getElementById('branch-input').focus()">
        <div class="tag-chip">CSE <button onclick="removeTag(this)">‚úï</button></div>
        <div class="tag-chip">ECE <button onclick="removeTag(this)">‚úï</button></div>
        <div class="tag-chip">MECH <button onclick="removeTag(this)">‚úï</button></div>
        <input class="tag-input-hidden" type="text" placeholder="Add branch..." id="branch-input">
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">Sections</label>
      <div style="font-size:0.78rem; color:var(--text-dim); margin-bottom:8px;">Click to select available sections per department.</div>
      <div class="section-grid">
        <button class="section-toggle selected" onclick="toggleSection(this)">A</button>
        <button class="section-toggle selected" onclick="toggleSection(this)">B</button>
        <button class="section-toggle selected" onclick="toggleSection(this)">C</button>
        <button class="section-toggle" onclick="toggleSection(this)">D</button>
        <button class="section-toggle" onclick="toggleSection(this)">E</button>
        <button class="section-toggle" onclick="toggleSection(this)">F</button>
      </div>
    </div>

    <div class="form-divider"></div>

    <div class="form-group">
      <label class="form-label">Academic Year</label>
      <select class="form-select">
        <option>2024‚Äì2025</option>
        <option selected>2025‚Äì2026</option>
        <option>2026‚Äì2027</option>
      </select>
    </div>

    <div class="form-group">
      <label class="form-label">Attendance Threshold (%)</label>
      <input class="form-input" type="number" value="75" min="60" max="90" placeholder="75">
      <div style="font-size:0.76rem; color:var(--text-dim); margin-top:5px;">Students below this threshold will receive warnings.</div>
    </div>

    <div class="form-group">
      <label class="form-label">Marks Threshold (%)</label>
      <input class="form-input" type="number" value="50" min="30" max="70" placeholder="50">
      <div style="font-size:0.76rem; color:var(--text-dim); margin-top:5px;">Students below this will be flagged for review.</div>
    </div>

    <div class="step-footer">
      <button class="btn btn-secondary" onclick="goStep(1)">‚Üê Back</button>
      <button class="btn btn-primary" onclick="goStep(3)">Continue ‚Üí</button>
    </div>
  </div>

  <!-- STEP 3: Credentials Creation -->
  <div class="form-step" id="step3">
    <div class="step-heading">Credentials Created</div>
    <div class="step-subheading">System has auto-generated login credentials for each role. Download or copy them securely.</div>

    <div class="info-box">
      <div class="info-box-icon">‚ö†Ô∏è</div>
      <div>Share these credentials securely. Admin credentials grant full data access to your institution.</div>
    </div>

    <div class="cred-card">
      <div class="cred-card-header">
        <div class="cred-role">
          <div class="cred-role-dot" style="background:var(--cyan);box-shadow:0 0 6px var(--cyan);"></div>
          Administrator
        </div>
        <span class="chip cyan">Full Access</span>
      </div>
      <div class="cred-row"><span style="color:var(--text-dim);background:none;border:none;padding:0">Username:</span> <span id="admin-user">ADM-GFC-2025</span> <button class="copy-btn" onclick="copyText('ADM-GFC-2025')">Copy</button></div>
      <div class="cred-row"><span style="color:var(--text-dim);background:none;border:none;padding:0">Password:</span> <span id="admin-pass">Gfc@Admin#7832</span> <button class="copy-btn" onclick="copyText('Gfc@Admin#7832')">Copy</button></div>
    </div>

    <div class="cred-card">
      <div class="cred-card-header">
        <div class="cred-role">
          <div class="cred-role-dot" style="background:var(--violet);box-shadow:0 0 6px var(--violet);"></div>
          Counselor
        </div>
        <span class="chip" style="background:rgba(167,139,250,0.12);border-color:rgba(167,139,250,0.25);color:var(--violet)">Monitor Access</span>
      </div>
      <div class="cred-row"><span style="color:var(--text-dim);background:none;border:none;padding:0">Username:</span> <span>CNS-GFC-2025</span> <button class="copy-btn" onclick="copyText('CNS-GFC-2025')">Copy</button></div>
      <div class="cred-row"><span style="color:var(--text-dim);background:none;border:none;padding:0">Password:</span> <span>Gfc@Couns#5241</span> <button class="copy-btn" onclick="copyText('Gfc@Couns#5241')">Copy</button></div>
    </div>

    <div class="cred-card">
      <div class="cred-card-header">
        <div class="cred-role">
          <div class="cred-role-dot" style="background:var(--emerald);box-shadow:0 0 6px var(--emerald);"></div>
          Student (Template)
        </div>
        <span class="chip emerald">Read Only</span>
      </div>
      <div class="cred-row"><span style="color:var(--text-dim);background:none;border:none;padding:0">Format:</span> <span>STU-[RollNo]-2025</span></div>
      <div class="cred-row"><span style="color:var(--text-dim);background:none;border:none;padding:0">Password:</span> <span>[DOB as DDMMYYYY]</span></div>
      <div style="font-size:0.76rem;color:var(--text-dim);margin-top:8px;">Students log in with their roll number and date of birth.</div>
    </div>

    <div class="step-footer">
      <button class="btn btn-secondary" onclick="goStep(2)">‚Üê Back</button>
      <button class="btn btn-primary" onclick="completeRegistration()" style="gap:8px;">
        üéâ Complete Setup
      </button>
    </div>
  </div>

  <!-- STEP 4: Success -->
  <div class="form-step" id="step-success">
    <div class="success-state">
      <div class="success-icon">‚úÖ</div>
      <div class="step-heading" style="text-align:center">Registration Complete!</div>
      <div class="step-subheading" style="text-align:center;max-width:320px;margin:8px auto 28px;">
        Greenfield Engineering College is now onboarded. Your dashboards are ready.
      </div>
      <div style="display:flex; flex-direction:column; gap:10px; max-width:280px; margin:0 auto;">
        <a href="login.html" class="btn btn-primary" style="justify-content:center;">Go to Login ‚Üí</a>
        <button class="btn btn-secondary" style="justify-content:center;" onclick="downloadPDF()">üì• Download Credentials PDF</button>
      </div>
    </div>
  </div>

</div>

<script>
let currentStep = 1;
let otpTimer;

function goStep(step) {
  document.getElementById(`step${currentStep === 4 ? '-success' : currentStep}`).classList.remove('active');

  const nodes = [1,2,3];
  nodes.forEach(n => {
    const sn = document.getElementById(`sn${n}`);
    const sc = document.getElementById(`sc${n}`);
    sn.classList.remove('active','done');
    if (n < step) { sn.classList.add('done'); sc.textContent = '‚úì'; }
    else if (n === step) { sn.classList.add('active'); sc.textContent = n; }
    else { sc.textContent = n; }
    if (n < 3) {
      const sl = document.getElementById(`sl${n}`);
      sl.classList.toggle('done', n < step);
    }
  });

  currentStep = step;
  const nextId = step === 4 ? 'step-success' : `step${step}`;
  document.getElementById(nextId).classList.add('active');
}

function sendOTP() {
  const email = document.getElementById('reg-email').value;
  if (!email || !email.includes('@')) {
    alert('Please enter a valid email address.');
    return;
  }
  document.getElementById('otp-section').style.display = 'block';
  document.getElementById('send-otp-btn').textContent = '‚úì Sent';
  document.getElementById('send-otp-btn').style.color = 'var(--emerald)';
  startOTPTimer(45);
  setupOTPInputs();
}

function startOTPTimer(seconds) {
  clearInterval(otpTimer);
  const el = document.getElementById('otp-timer');
  let s = seconds;
  el.textContent = `Resend in ${s}s`;
  otpTimer = setInterval(() => {
    s--;
    if (s <= 0) { clearInterval(otpTimer); el.textContent = 'You can resend now.'; }
    else { el.textContent = `Resend in ${s}s`; }
  }, 1000);
}

function resendOTP(e) {
  e.preventDefault();
  startOTPTimer(45);
  document.getElementById('send-otp-btn').textContent = '‚Üª Resent';
}

function setupOTPInputs() {
  const inputs = ['o1','o2','o3','o4','o5','o6'].map(id => document.getElementById(id));
  inputs.forEach((inp, i) => {
    inp.addEventListener('input', () => {
      inp.classList.toggle('filled', inp.value.length > 0);
      if (inp.value && i < 5) inputs[i+1].focus();
    });
    inp.addEventListener('keydown', (e) => {
      if (e.key === 'Backspace' && !inp.value && i > 0) inputs[i-1].focus();
    });
  });
}

function toggleSection(btn) { btn.classList.toggle('selected'); }

function removeTag(btn) { btn.parentElement.remove(); }

document.addEventListener('DOMContentLoaded', () => {
  const inp = document.getElementById('branch-input');
  if (inp) {
    inp.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && inp.value.trim()) {
        const tag = document.createElement('div');
        tag.className = 'tag-chip';
        tag.innerHTML = `${inp.value.trim()} <button onclick="removeTag(this)">‚úï</button>`;
        inp.parentElement.insertBefore(tag, inp);
        inp.value = '';
      }
    });
  }
});

function copyText(text) {
  navigator.clipboard.writeText(text).then(() => {
    const temp = document.createElement('div');
    temp.style.cssText = 'position:fixed;top:20px;left:50%;transform:translateX(-50%);background:var(--emerald);color:var(--navy);padding:8px 18px;border-radius:8px;font-size:0.82rem;font-weight:600;z-index:9999;animation:fadeIn 0.2s ease';
    temp.textContent = 'Copied!';
    document.body.appendChild(temp);
    setTimeout(() => temp.remove(), 2000);
  });
}

function completeRegistration() {
  document.getElementById('step3').classList.remove('active');
  ['sn1','sn2','sn3'].forEach((id, i) => {
    const sn = document.getElementById(id);
    const sc = document.getElementById(`sc${i+1}`);
    sn.classList.add('done');
    sn.classList.remove('active');
    sc.textContent = '‚úì';
  });
  ['sl1','sl2'].forEach(id => document.getElementById(id).classList.add('done'));
  document.getElementById('step-success').classList.add('active');
}

function downloadPDF() {
  alert('Credentials PDF download would trigger here in production.');
}
</script>
</body>
</html>
